#pragma version 10

// This TEAL was generated by TEALScript v0.102.0
// https://github.com/algorandfoundation/TEALScript

// This contract is compliant with and/or implements the following ARCs: [ ARC4 ]

// The following ten lines of TEAL handle initial program flow
// This pattern is used to make it easy for anyone to parse the start of the program and determine if a specific action is allowed
// Here, action refers to the OnComplete in combination with whether the app is being created or called
// Every possible action for this contract is represented in the switch statement
// If the action is not implemented in the contract, its respective branch will be "*NOT_IMPLEMENTED" which just contains "err"
txn ApplicationID
!
int 6
*
txn OnCompletion
+
switch *call_NoOp *NOT_IMPLEMENTED *NOT_IMPLEMENTED *NOT_IMPLEMENTED *call_UpdateApplication *call_DeleteApplication *create_NoOp *NOT_IMPLEMENTED *NOT_IMPLEMENTED *NOT_IMPLEMENTED *NOT_IMPLEMENTED *NOT_IMPLEMENTED

*NOT_IMPLEMENTED:
	// The requested action is not implemented in this contract. Are you using the correct OnComplete? Did you set your app ID?
	err

// updateApplication()void
*abi_route_updateApplication:
	// execute updateApplication()void
	callsub updateApplication
	int 1
	return

// updateApplication(): void
updateApplication:
	proto 0 0

	// src/contracts/lib/Ownable.algo.ts:7
	// assert(this.warden.exists, 'this app can not update')
	txna Applications 0
	byte 0x77617264656e // "warden"
	app_global_get_ex
	swap
	pop

	// this app can not update
	assert

	// src/contracts/lib/Ownable.algo.ts:8
	// assert(this.txn.sender === this.warden.value, 'only manager can update')
	txn Sender
	byte 0x77617264656e // "warden"
	app_global_get
	==

	// only manager can update
	assert
	retsub

// deleteApplication()void
*abi_route_deleteApplication:
	// execute deleteApplication()void
	callsub deleteApplication
	int 1
	return

// deleteApplication(): void
deleteApplication:
	proto 0 0

	// src/contracts/lib/Ownable.algo.ts:12
	// assert(this.warden.exists, 'this app can not be deleted')
	txna Applications 0
	byte 0x77617264656e // "warden"
	app_global_get_ex
	swap
	pop

	// this app can not be deleted
	assert

	// src/contracts/lib/Ownable.algo.ts:13
	// assert(this.txn.sender === this.warden.value, 'only manager can delete')
	txn Sender
	byte 0x77617264656e // "warden"
	app_global_get
	==

	// only manager can delete
	assert

	// src/contracts/lib/Ownable.algo.ts:14
	// sendPayment({
	//       amount: 0,
	//       sender: this.app.address,
	//       receiver: this.warden.value,
	//       closeRemainderTo: this.warden.value,
	//       rekeyTo: this.warden.value,
	//       fee: globals.minTxnFee,
	//     })
	itxn_begin
	int pay
	itxn_field TypeEnum

	// src/contracts/lib/Ownable.algo.ts:15
	// amount: 0
	int 0
	itxn_field Amount

	// src/contracts/lib/Ownable.algo.ts:16
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/lib/Ownable.algo.ts:17
	// receiver: this.warden.value
	byte 0x77617264656e // "warden"
	app_global_get
	itxn_field Receiver

	// src/contracts/lib/Ownable.algo.ts:18
	// closeRemainderTo: this.warden.value
	byte 0x77617264656e // "warden"
	app_global_get
	itxn_field CloseRemainderTo

	// src/contracts/lib/Ownable.algo.ts:19
	// rekeyTo: this.warden.value
	byte 0x77617264656e // "warden"
	app_global_get
	itxn_field RekeyTo

	// src/contracts/lib/Ownable.algo.ts:20
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit
	retsub

// manager()address
*abi_route_manager:
	// The ABI return prefix
	byte 0x151f7c75

	// execute manager()address
	callsub manager
	concat
	log
	int 1
	return

// manager(): Address
manager:
	proto 0 1

	// *if0_condition
	// src/contracts/lib/Ownable.algo.ts:26
	// this.warden.exists
	txna Applications 0
	byte 0x77617264656e // "warden"
	app_global_get_ex
	swap
	pop
	bz *if0_end

	// *if0_consequent
	// src/contracts/lib/Ownable.algo.ts:27
	// return this.warden.value;
	byte 0x77617264656e // "warden"
	app_global_get
	retsub

*if0_end:
	// src/contracts/lib/Ownable.algo.ts:29
	// return globals.zeroAddress;
	global ZeroAddress
	retsub

// grant(address)void
*abi_route_grant:
	// manager: address
	txna ApplicationArgs 1
	dup
	len
	int 32
	==

	// argument 0 (manager) for grant must be a address
	assert

	// execute grant(address)void
	callsub grant
	int 1
	return

// grant(manager: Address): void
grant:
	proto 1 0

	// src/contracts/lib/Ownable.algo.ts:33
	// assert(this.txn.sender === this.warden.value, 'unauthorized')
	txn Sender
	byte 0x77617264656e // "warden"
	app_global_get
	==

	// unauthorized
	assert

	// *if1_condition
	// src/contracts/lib/Ownable.algo.ts:34
	// manager === globals.zeroAddress
	frame_dig -1 // manager: Address
	global ZeroAddress
	==
	bz *if1_else

	// *if1_consequent
	// src/contracts/lib/Ownable.algo.ts:35
	// this.warden.delete()
	byte 0x77617264656e // "warden"
	app_global_del
	b *if1_end

*if1_else:
	// src/contracts/lib/Ownable.algo.ts:37
	// this.warden.value = manager
	byte 0x77617264656e // "warden"
	frame_dig -1 // manager: Address
	app_global_put

*if1_end:
	retsub

// createApplication()void
*abi_route_createApplication:
	// execute createApplication()void
	callsub createApplication
	int 1
	return

// createApplication(): void
createApplication:
	proto 0 0

	// src/contracts/PoolFactory.algo.ts:32
	// this.bootstrapFee.value = 2_000_000
	byte 0x626f6f7473747261705f666565 // "bootstrap_fee"
	int 2_000_000
	app_global_put

	// src/contracts/PoolFactory.algo.ts:33
	// this.platformFee.value = <uint256>1_000_000_000_000
	byte 0x706c6174666f726d5f666565 // "platform_fee"
	byte 0x000000000000000000000000000000000000000000000000000000e8d4a51000
	app_global_put

	// src/contracts/PoolFactory.algo.ts:34
	// this.warden.value = this.txn.sender
	byte 0x77617264656e // "warden"
	txn Sender
	app_global_put
	retsub

// createPool(pay,byte[32],byte[8],uint64,uint8,uint64,uint8,uint256)uint64
*abi_route_createPool:
	// The ABI return prefix
	byte 0x151f7c75

	// swapFee: uint256
	txna ApplicationArgs 7
	dup
	len
	int 32
	==

	// argument 0 (swapFee) for createPool must be a uint256
	assert

	// betaType: uint8
	txna ApplicationArgs 6
	dup
	len
	int 1
	==

	// argument 1 (betaType) for createPool must be a uint8
	assert
	btoi

	// betaId: uint64
	txna ApplicationArgs 5
	btoi

	// alphaType: uint8
	txna ApplicationArgs 4
	dup
	len
	int 1
	==

	// argument 3 (alphaType) for createPool must be a uint8
	assert
	btoi

	// alphaId: uint64
	txna ApplicationArgs 3
	btoi

	// symbol: byte[8]
	txna ApplicationArgs 2
	dup
	len
	int 8
	==

	// argument 5 (symbol) for createPool must be a byte[8]
	assert

	// name: byte[32]
	txna ApplicationArgs 1
	dup
	len
	int 32
	==

	// argument 6 (name) for createPool must be a byte[32]
	assert

	// payTxn: pay
	txn GroupIndex
	int 1
	-
	dup
	gtxns TypeEnum
	int pay
	==

	// argument 7 (payTxn) for createPool must be a pay transaction
	assert

	// execute createPool(pay,byte[32],byte[8],uint64,uint8,uint64,uint8,uint256)uint64
	callsub createPool
	itob
	concat
	log
	int 1
	return

// createPool(payTxn: PayTxn, name: StaticBytes<32>, symbol: StaticBytes<8>, alphaId: uint64, alphaType: uint8, betaId: uint64, betaType: uint8, swapFee: uint256): uint64
createPool:
	proto 8 1

	// Push empty bytes after the frame pointer to reserve space for local variables
	byte 0x

	// src/contracts/PoolFactory.algo.ts:47
	// verifyPayTxn(payTxn, {
	//       sender: this.txn.sender,
	//       receiver: this.app.address,
	//       amount: { greaterThanEqualTo: this.bootstrapFee.value },
	//     })
	// verify sender
	frame_dig -1 // payTxn: PayTxn
	gtxns Sender
	txn Sender
	==

	// transaction verification failed: {"txn":"payTxn","field":"sender","expected":"this.txn.sender"}
	assert

	// verify receiver
	frame_dig -1 // payTxn: PayTxn
	gtxns Receiver
	global CurrentApplicationAddress
	==

	// transaction verification failed: {"txn":"payTxn","field":"receiver","expected":"this.app.address"}
	assert

	// verify amount
	frame_dig -1 // payTxn: PayTxn
	gtxns Amount
	byte 0x626f6f7473747261705f666565 // "bootstrap_fee"
	app_global_get
	>=

	// transaction verification failed: {"txn":"payTxn","field":"amount","condition":"greaterThanEqualTo","expected":">=this.bootstrapFee.value"}
	assert

	// *if2_condition
	// src/contracts/PoolFactory.algo.ts:53
	// alphaType === ASA
	frame_dig -5 // alphaType: uint8
	int 1
	==
	bz *if2_end

	// *if2_consequent
	// src/contracts/PoolFactory.algo.ts:54
	// sendAssetTransfer({
	//         xferAsset: AssetID.fromUint64(alphaId),
	//         sender: this.app.address,
	//         assetReceiver: this.app.address,
	//         assetAmount: 0,
	//         fee: globals.minTxnFee
	//       })
	itxn_begin
	int axfer
	itxn_field TypeEnum

	// src/contracts/PoolFactory.algo.ts:55
	// xferAsset: AssetID.fromUint64(alphaId)
	frame_dig -4 // alphaId: uint64
	itxn_field XferAsset

	// src/contracts/PoolFactory.algo.ts:56
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:57
	// assetReceiver: this.app.address
	global CurrentApplicationAddress
	itxn_field AssetReceiver

	// src/contracts/PoolFactory.algo.ts:58
	// assetAmount: 0
	int 0
	itxn_field AssetAmount

	// src/contracts/PoolFactory.algo.ts:59
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

*if2_end:
	// *if3_condition
	// src/contracts/PoolFactory.algo.ts:62
	// betaType === ASA
	frame_dig -7 // betaType: uint8
	int 1
	==
	bz *if3_end

	// *if3_consequent
	// src/contracts/PoolFactory.algo.ts:63
	// sendAssetTransfer({
	//         xferAsset: AssetID.fromUint64(betaId),
	//         sender: this.app.address,
	//         assetReceiver: this.app.address,
	//         assetAmount: 0,
	//         fee: globals.minTxnFee
	//       })
	itxn_begin
	int axfer
	itxn_field TypeEnum

	// src/contracts/PoolFactory.algo.ts:64
	// xferAsset: AssetID.fromUint64(betaId)
	frame_dig -6 // betaId: uint64
	itxn_field XferAsset

	// src/contracts/PoolFactory.algo.ts:65
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:66
	// assetReceiver: this.app.address
	global CurrentApplicationAddress
	itxn_field AssetReceiver

	// src/contracts/PoolFactory.algo.ts:67
	// assetAmount: 0
	int 0
	itxn_field AssetAmount

	// src/contracts/PoolFactory.algo.ts:68
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

*if3_end:
	// src/contracts/PoolFactory.algo.ts:72
	// sendMethodCall<[AppID, Address, StaticBytes<32>, StaticBytes<8>, uint64, uint8, uint64, uint8, uint256], void>({
	//       name: 'createApplication',
	//       methodArgs: [
	//         this.app,
	//         this.app.address,
	//         name,
	//         symbol,
	//         alphaId,
	//         alphaType,
	//         betaId,
	//         betaType,
	//         swapFee,
	//       ],
	//       approvalProgram: Pool.approvalProgramPages(),
	//       clearStateProgram: Pool.clearProgram(),
	//       extraProgramPages: 3,
	//       localNumByteSlice: Pool.schema.local.numByteSlice,
	//       localNumUint: Pool.schema.local.numUint,
	//       globalNumByteSlice: Pool.schema.global.numByteSlice,
	//       globalNumUint: Pool.schema.global.numUint,
	//       fee: globals.minTxnFee
	//     })
	itxn_begin
	int appl
	itxn_field TypeEnum
	method "createApplication(uint64,address,byte[32],byte[8],uint64,uint8,uint64,uint8,uint256)void"
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:74
	// methodArgs: [
	//         this.app,
	//         this.app.address,
	//         name,
	//         symbol,
	//         alphaId,
	//         alphaType,
	//         betaId,
	//         betaType,
	//         swapFee,
	//       ]
	txna Applications 0
	itob
	itxn_field ApplicationArgs
	global CurrentApplicationAddress
	itxn_field ApplicationArgs
	frame_dig -2 // name: StaticBytes<32>
	itxn_field ApplicationArgs
	frame_dig -3 // symbol: StaticBytes<8>
	itxn_field ApplicationArgs
	frame_dig -4 // alphaId: uint64
	itob
	itxn_field ApplicationArgs
	frame_dig -5 // alphaType: uint8
	itob
	extract 7 1
	itxn_field ApplicationArgs
	frame_dig -6 // betaId: uint64
	itob
	itxn_field ApplicationArgs
	frame_dig -7 // betaType: uint8
	itob
	extract 7 1
	itxn_field ApplicationArgs
	frame_dig -8 // swapFee: uint256
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:85
	// approvalProgram: Pool.approvalProgramPages()
	byte b64 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
	itxn_field ApprovalProgramPages
	byte b64 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
	itxn_field ApprovalProgramPages
	byte b64 rEkVSSIJTFJQsCNDigIBJwSL/zgQIQQTQQADiPinJwpkJwdkF4v/iPtojACL/osASZMkDkQorEkVSSIJTFKI/kCMAIk2GglJFSISRDYaCEkVIxJEFzYaBxc2GgZJFSMSRBc2GgUXNhoESRUhBxJENhoDSRUiEkQ2GgJJFSISRDYaAReIAAIjQ4oJACuL/mcnEYv9ZycSi/xnJxOAAQZnJwwnDYEKIQSUFqNJkyQORCisSRVJIglMUmcnECUnBSVPAlRnJwiL/2cnCYv7ZycKi/lnJwaL+hZXBwFnJweL+BZXBwFnJwuL92eJiAACI0OKAAAxACtkEkQnEGQlUyMTRCcQIycFJU8CVGcyCicMZL8nBmQXIxJBAAonCWQpMgqI9f1EJwdkFyMSQQAKJwpkKTIKiPXqRImABCRqIzU2GgCOAf8AAIAEZX0T7IAEtq4aJScVgATsmWBBJw6ABLuzGfMnD4AEtUIhJYAESpaPj4AETiKjuoAEM26NX4AEZjBC+4AEvEpUAIAEyY3QVScWgARnQ0AxgAR59bCNgARwgEdpgATYNadGgAQzoQNcgARULg8LgATOMYo6gATFsZbOgAQCwfLQgAS+x22HNhoAjhnvM+9C71Hva++I77jwhfDj8Q7xu/K68sjzAPMo817ztfPQ8/j0HvSF+Fr6e/2O/ej+6ACABEb3ZTM2GgCOAfNdAIAEJIfDLDYaAI4B82YA
	itxn_field ApprovalProgramPages

	// src/contracts/PoolFactory.algo.ts:86
	// clearStateProgram: Pool.clearProgram()
	byte b64 Cg==
	itxn_field ClearStateProgram

	// src/contracts/PoolFactory.algo.ts:87
	// extraProgramPages: 3
	int 3
	itxn_field ExtraProgramPages

	// src/contracts/PoolFactory.algo.ts:88
	// localNumByteSlice: Pool.schema.local.numByteSlice
	int 0
	itxn_field LocalNumByteSlice

	// src/contracts/PoolFactory.algo.ts:89
	// localNumUint: Pool.schema.local.numUint
	int 0
	itxn_field LocalNumUint

	// src/contracts/PoolFactory.algo.ts:90
	// globalNumByteSlice: Pool.schema.global.numByteSlice
	int 9
	itxn_field GlobalNumByteSlice

	// src/contracts/PoolFactory.algo.ts:91
	// globalNumUint: Pool.schema.global.numUint
	int 3
	itxn_field GlobalNumUint

	// src/contracts/PoolFactory.algo.ts:92
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

	// src/contracts/PoolFactory.algo.ts:94
	// poolId = this.itxn.createdApplicationID
	itxn CreatedApplicationID
	frame_bury 0 // poolId: uint64

	// src/contracts/PoolFactory.algo.ts:96
	// sendPayment({
	//       sender: this.app.address,
	//       receiver: poolId.address,
	//       amount: globals.minBalance * 5 + globals.minTxnFee * 10,
	//       fee: globals.minTxnFee,
	//     })
	itxn_begin
	int pay
	itxn_field TypeEnum

	// src/contracts/PoolFactory.algo.ts:97
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:98
	// receiver: poolId.address
	frame_dig 0 // poolId: uint64
	app_params_get AppAddress
	pop
	itxn_field Receiver

	// src/contracts/PoolFactory.algo.ts:99
	// amount: globals.minBalance * 5 + globals.minTxnFee * 10
	global MinBalance
	int 5
	*
	global MinTxnFee
	int 10
	*
	+
	itxn_field Amount

	// src/contracts/PoolFactory.algo.ts:100
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

	// src/contracts/PoolFactory.algo.ts:103
	// this.PoolCreated.log({
	//       poolId: poolId,
	//       alphaId: alphaId,
	//       alphaType: alphaType,
	//       betaId: betaId,
	//       betaType: betaType,
	//       swapFee: swapFee,
	//     })
	byte 0xe0c83843 // PoolCreated(uint64,uint64,uint8,uint64,uint8,uint256)
	frame_dig 0 // poolId: uint64
	itob
	frame_dig -4 // alphaId: uint64
	itob
	concat
	frame_dig -5 // alphaType: uint8
	itob
	extract 7 1
	concat
	frame_dig -6 // betaId: uint64
	itob
	concat
	frame_dig -7 // betaType: uint8
	itob
	extract 7 1
	concat
	frame_dig -8 // swapFee: uint256
	concat
	concat
	log

	// src/contracts/PoolFactory.algo.ts:112
	// return poolId.id;
	frame_dig 0 // poolId: uint64

	// set the subroutine return value
	frame_bury 0
	retsub

// poolBootstrap(uint64)void
*abi_route_poolBootstrap:
	// poolId: uint64
	txna ApplicationArgs 1
	btoi

	// execute poolBootstrap(uint64)void
	callsub poolBootstrap
	int 1
	return

// poolBootstrap(poolId: AppID): void
poolBootstrap:
	proto 1 0

	// src/contracts/PoolFactory.algo.ts:116
	// sendMethodCall<[], void>({
	//       name: 'bootstrap',
	//       methodArgs: [],
	//       sender: this.app.address,
	//       applicationID: poolId,
	//       fee: globals.minTxnFee,
	//     })
	itxn_begin
	int appl
	itxn_field TypeEnum
	method "bootstrap()void"
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:118
	// methodArgs: []
	// src/contracts/PoolFactory.algo.ts:119
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:120
	// applicationID: poolId
	frame_dig -1 // poolId: AppID
	itxn_field ApplicationID

	// src/contracts/PoolFactory.algo.ts:121
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

	// src/contracts/PoolFactory.algo.ts:124
	// this.PoolBootstrap.log({
	//       poolId: poolId,
	//     })
	byte 0x4efd37fd // PoolBootstrap(uint64)
	frame_dig -1 // poolId: AppID
	itob
	concat
	log
	retsub

// setFee(uint64)bool
*abi_route_setFee:
	// The ABI return prefix
	byte 0x151f7c75

	// fee: uint64
	txna ApplicationArgs 1
	btoi

	// execute setFee(uint64)bool
	callsub setFee
	byte 0x00
	int 0
	uncover 2
	setbit
	concat
	log
	int 1
	return

// setFee(fee: uint64): boolean
setFee:
	proto 1 1

	// src/contracts/PoolFactory.algo.ts:130
	// assert(this.warden.value === this.txn.sender, "unauthorized")
	byte 0x77617264656e // "warden"
	app_global_get
	txn Sender
	==

	// unauthorized
	assert

	// src/contracts/PoolFactory.algo.ts:131
	// this.bootstrapFee.value = fee
	byte 0x626f6f7473747261705f666565 // "bootstrap_fee"
	frame_dig -1 // fee: uint64
	app_global_put

	// src/contracts/PoolFactory.algo.ts:132
	// return true;
	int 1
	retsub

// setPlatformFee(uint256)bool
*abi_route_setPlatformFee:
	// The ABI return prefix
	byte 0x151f7c75

	// fee: uint256
	txna ApplicationArgs 1
	dup
	len
	int 32
	==

	// argument 0 (fee) for setPlatformFee must be a uint256
	assert

	// execute setPlatformFee(uint256)bool
	callsub setPlatformFee
	byte 0x00
	int 0
	uncover 2
	setbit
	concat
	log
	int 1
	return

// setPlatformFee(fee: uint256): boolean
setPlatformFee:
	proto 1 1

	// src/contracts/PoolFactory.algo.ts:136
	// assert(this.warden.value === this.txn.sender, "unauthorized")
	byte 0x77617264656e // "warden"
	app_global_get
	txn Sender
	==

	// unauthorized
	assert

	// src/contracts/PoolFactory.algo.ts:137
	// this.platformFee.value = fee
	byte 0x706c6174666f726d5f666565 // "platform_fee"
	frame_dig -1 // fee: uint256
	app_global_put

	// src/contracts/PoolFactory.algo.ts:138
	// return true;
	int 1
	retsub

// setPoolManager(uint64,address)void
*abi_route_setPoolManager:
	// manager: address
	txna ApplicationArgs 2
	dup
	len
	int 32
	==

	// argument 0 (manager) for setPoolManager must be a address
	assert

	// poolId: uint64
	txna ApplicationArgs 1
	btoi

	// execute setPoolManager(uint64,address)void
	callsub setPoolManager
	int 1
	return

// setPoolManager(poolId: AppID, manager: Address): void
setPoolManager:
	proto 2 0

	// src/contracts/PoolFactory.algo.ts:142
	// assert(this.warden.value === this.txn.sender, "unauthorized")
	byte 0x77617264656e // "warden"
	app_global_get
	txn Sender
	==

	// unauthorized
	assert

	// src/contracts/PoolFactory.algo.ts:143
	// sendMethodCall<[Address], void>({
	//       name: 'grant',
	//       methodArgs: [manager],
	//       sender: this.app.address,
	//       applicationID: poolId,
	//       fee: globals.minTxnFee
	//     })
	itxn_begin
	int appl
	itxn_field TypeEnum
	method "grant(address)void"
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:145
	// methodArgs: [manager]
	frame_dig -2 // manager: Address
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:146
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:147
	// applicationID: poolId
	frame_dig -1 // poolId: AppID
	itxn_field ApplicationID

	// src/contracts/PoolFactory.algo.ts:148
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit
	retsub

// setPoolFee(uint64,uint256)void
*abi_route_setPoolFee:
	// fee: uint256
	txna ApplicationArgs 2
	dup
	len
	int 32
	==

	// argument 0 (fee) for setPoolFee must be a uint256
	assert

	// poolId: uint64
	txna ApplicationArgs 1
	btoi

	// execute setPoolFee(uint64,uint256)void
	callsub setPoolFee
	int 1
	return

// setPoolFee(poolId: AppID, fee: uint256): void
setPoolFee:
	proto 2 0

	// src/contracts/PoolFactory.algo.ts:153
	// assert(this.warden.value === this.txn.sender, "unauthorized")
	byte 0x77617264656e // "warden"
	app_global_get
	txn Sender
	==

	// unauthorized
	assert

	// src/contracts/PoolFactory.algo.ts:154
	// sendMethodCall<[uint256], boolean>({
	//       name: 'setFees',
	//       methodArgs: [fee],
	//       sender: this.app.address,
	//       applicationID: poolId,
	//       fee: globals.minTxnFee
	//     })
	itxn_begin
	int appl
	itxn_field TypeEnum
	method "setFees(uint256)bool"
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:156
	// methodArgs: [fee]
	frame_dig -2 // fee: uint256
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:157
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:158
	// applicationID: poolId
	frame_dig -1 // poolId: AppID
	itxn_field ApplicationID

	// src/contracts/PoolFactory.algo.ts:159
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit
	itxn NumLogs
	int 1
	-
	itxnas Logs
	extract 4 0
	int 0
	getbit
	retsub

// withdraw(address,uint256,(uint64,uint64))void
*abi_route_withdraw:
	// id: (uint64,uint64)
	txna ApplicationArgs 3
	dup
	len
	int 16
	==

	// argument 0 (id) for withdraw must be a (uint64,uint64)
	assert

	// amount: uint256
	txna ApplicationArgs 2
	dup
	len
	int 32
	==

	// argument 1 (amount) for withdraw must be a uint256
	assert

	// to: address
	txna ApplicationArgs 1
	dup
	len
	int 32
	==

	// argument 2 (to) for withdraw must be a address
	assert

	// execute withdraw(address,uint256,(uint64,uint64))void
	callsub withdraw
	int 1
	return

// withdraw(to: Address, amount: uint256, id: [uint64, uint64]): void
withdraw:
	proto 3 0

	// src/contracts/PoolFactory.algo.ts:164
	// assert(this.txn.sender === this.warden.value, "unauthorized")
	txn Sender
	byte 0x77617264656e // "warden"
	app_global_get
	==

	// unauthorized
	assert

	// *if4_condition
	// src/contracts/PoolFactory.algo.ts:165
	// id[0] > 0
	frame_dig -3 // id: [uint64, uint64]
	extract 0 8
	btoi
	int 0
	>
	bz *if4_elseif1_condition

	// *if4_consequent
	// src/contracts/PoolFactory.algo.ts:166
	// sendAssetTransfer({
	//         xferAsset: AssetID.fromUint64(id[0]),
	//         sender: this.app.address,
	//         assetReceiver: to,
	//         assetAmount: <uint64>amount,
	//         fee: globals.minTxnFee,
	//       })
	itxn_begin
	int axfer
	itxn_field TypeEnum

	// src/contracts/PoolFactory.algo.ts:167
	// xferAsset: AssetID.fromUint64(id[0])
	frame_dig -3 // id: [uint64, uint64]
	extract 0 8
	btoi
	itxn_field XferAsset

	// src/contracts/PoolFactory.algo.ts:168
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:169
	// assetReceiver: to
	frame_dig -1 // to: Address
	itxn_field AssetReceiver

	// src/contracts/PoolFactory.algo.ts:170
	// assetAmount: <uint64>amount
	frame_dig -2 // amount: uint256
	dup
	bitlen
	int 64
	<=

	// <uint64>amount overflowed 64 bits
	assert
	extract 24 8
	btoi
	itxn_field AssetAmount

	// src/contracts/PoolFactory.algo.ts:171
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit
	b *if4_end

*if4_elseif1_condition:
	// src/contracts/PoolFactory.algo.ts:173
	// id[1] > 0
	frame_dig -3 // id: [uint64, uint64]
	extract 8 8
	btoi
	int 0
	>
	bz *if4_else

	// *if4_elseif1_consequent
	// src/contracts/PoolFactory.algo.ts:174
	// sendMethodCall<[Address, uint256], boolean>({
	//         applicationID: AppID.fromUint64(id[1]),
	//         sender: this.app.address,
	//         name: 'arc200_transfer',
	//         methodArgs: [to, amount],
	//         fee: globals.minTxnFee,
	//       })
	itxn_begin
	int appl
	itxn_field TypeEnum
	method "arc200_transfer(address,uint256)bool"
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:175
	// applicationID: AppID.fromUint64(id[1])
	frame_dig -3 // id: [uint64, uint64]
	extract 8 8
	btoi
	itxn_field ApplicationID

	// src/contracts/PoolFactory.algo.ts:176
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:178
	// methodArgs: [to, amount]
	frame_dig -1 // to: Address
	itxn_field ApplicationArgs
	frame_dig -2 // amount: uint256
	itxn_field ApplicationArgs

	// src/contracts/PoolFactory.algo.ts:179
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit
	itxn NumLogs
	int 1
	-
	itxnas Logs
	extract 4 0
	int 0
	getbit
	b *if4_end

*if4_else:
	// src/contracts/PoolFactory.algo.ts:182
	// sendPayment({
	//         sender: this.app.address,
	//         receiver: to,
	//         amount: <uint64>amount,
	//         fee: globals.minTxnFee,
	//       })
	itxn_begin
	int pay
	itxn_field TypeEnum

	// src/contracts/PoolFactory.algo.ts:183
	// sender: this.app.address
	global CurrentApplicationAddress
	itxn_field Sender

	// src/contracts/PoolFactory.algo.ts:184
	// receiver: to
	frame_dig -1 // to: Address
	itxn_field Receiver

	// src/contracts/PoolFactory.algo.ts:185
	// amount: <uint64>amount
	frame_dig -2 // amount: uint256
	dup
	bitlen
	int 64
	<=

	// <uint64>amount overflowed 64 bits
	assert
	extract 24 8
	btoi
	itxn_field Amount

	// src/contracts/PoolFactory.algo.ts:186
	// fee: globals.minTxnFee
	global MinTxnFee
	itxn_field Fee

	// Submit inner transaction
	itxn_submit

*if4_end:
	// src/contracts/PoolFactory.algo.ts:189
	// this.Withdraw.log({
	//       to: to,
	//       amount: amount,
	//       asaId: id[0],
	//       smartAssetId: id[1]
	//     })
	byte 0xebb76dd8 // Withdraw(address,uint256,uint64,uint64)
	frame_dig -1 // to: Address
	frame_dig -2 // amount: uint256
	concat
	frame_dig -3 // id: [uint64, uint64]
	extract 0 8
	btoi
	itob
	concat
	frame_dig -3 // id: [uint64, uint64]
	extract 8 8
	btoi
	itob
	concat
	concat
	log
	retsub

// noop(uint64)void
*abi_route_noop:
	// _n: uint64
	txna ApplicationArgs 1
	btoi

	// execute noop(uint64)void
	callsub noop
	int 1
	return

// noop(_n: uint64): void
noop:
	proto 1 0
	retsub

*create_NoOp:
	method "createApplication()void"
	txna ApplicationArgs 0
	match *abi_route_createApplication

	// this contract does not implement the given ABI method for create NoOp
	err

*call_NoOp:
	method "manager()address"
	method "grant(address)void"
	method "createPool(pay,byte[32],byte[8],uint64,uint8,uint64,uint8,uint256)uint64"
	method "poolBootstrap(uint64)void"
	method "setFee(uint64)bool"
	method "setPlatformFee(uint256)bool"
	method "setPoolManager(uint64,address)void"
	method "setPoolFee(uint64,uint256)void"
	method "withdraw(address,uint256,(uint64,uint64))void"
	method "noop(uint64)void"
	txna ApplicationArgs 0
	match *abi_route_manager *abi_route_grant *abi_route_createPool *abi_route_poolBootstrap *abi_route_setFee *abi_route_setPlatformFee *abi_route_setPoolManager *abi_route_setPoolFee *abi_route_withdraw *abi_route_noop

	// this contract does not implement the given ABI method for call NoOp
	err

*call_UpdateApplication:
	method "updateApplication()void"
	txna ApplicationArgs 0
	match *abi_route_updateApplication

	// this contract does not implement the given ABI method for call UpdateApplication
	err

*call_DeleteApplication:
	method "deleteApplication()void"
	txna ApplicationArgs 0
	match *abi_route_deleteApplication

	// this contract does not implement the given ABI method for call DeleteApplication
	err